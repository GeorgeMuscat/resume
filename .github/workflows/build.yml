name: Build Typst document
on: push

jobs:
    build_typst_documents:
        runs-on: ubuntu-latest
        steps:
            - name: Checkout
              uses: actions/checkout@v3
            - name: Typst
              uses: lvignoli/typst-action@main
              with:
                  source_file: resume.typ
            - name: Deploy
                uses: peaceiris/actions-gh-pages@v3
                # If you're changing the branch from main,
                # also change the `main` in `refs/heads/main`
                # below accordingly.
                if: github.ref == 'refs/heads/main'
                with:
                    github_token: ${{ secrets.GITHUB_TOKEN }}
                    publish_dir: ./public